<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>예약 현황</title>
</head>
<body>
    <h1>예약 현황</h1>
    <div id="reservation"></div>

    <script>
        // 데이터를 가져올 URL
        const url = 'https://prdt.ybtour.co.kr/product/schedule/event.m?evCd=ATP1284-241229LJ01';

        fetch(url)
            .then(response => response.text())
            .then(data => {
                // HTML 파싱
                const parser = new DOMParser();
                const doc = parser.parseFromString(data, 'text/html');

                // 페이지 텍스트에서 "예약 :  숫자석" 패턴 찾기
                const bodyText = doc.body.innerText;
                const reservationPattern = /예약 :  \d+석/;  // "예약 :  숫자석" 형식 추출
                const reservationMatch = bodyText.match(reservationPattern);

                // 결과 표시
                if (reservationMatch) {
                    document.getElementById('reservation').innerText = reservationMatch[0];
                } else {
                    document.getElementById('reservation').innerText = '예약 현황을 찾을 수 없습니다.';
                }
            })
            .catch(error => {
                console.error('데이터를 가져오지 못했습니다:', error);
            });
    </script>
</body>
</html>
